\begin{vdmpp}[breaklines=true]
class Tile
/*
class responsible for the variables and operations of all the tiles that together form the game board
*/
instance variables
  private traps: bool; --this tile has a trap
  private river: bool; --this tile has water
  private blue_lair: bool;
  private red_lair: bool;
  private coordinates: seq of nat1; --tile coordinates, integrity check with board coordinates
  private piece: [Piece]; --Piece on tile, can be null if there is none
  
  inv coordinates(1) in set {1, ..., Board`XSize} and
    coordinates(2) in set {1, ..., Board`YSize}
  
operations

  --Tile constuctor
(*@
\label{Tile:19}
@*)
  public Tile: seq of nat1 ==> Tile
  Tile(coord) == (
    coordinates := coord;
    piece := nil;
    traps := ((coord(1) = 3 and coord(2) = 1) or (coord(1) = 5 and coord(2) = 1) or (coord(1) = 4 and coord(2) = 2)
          or (coord(1) = 3 and coord(2) = 9) or (coord(1) = 5 and coord(2) = 9) or (coord(1) = 4 and coord(2) = 8));
    river := ((coord(1) = 2 and coord(2) = 4) or (coord(1) = 3 and coord(2) = 4) or (coord(1) = 5 and coord(2) = 4) or (coord(1) = 6 and coord(2) = 4)
        or (coord(1) = 2 and coord(2) = 5) or (coord(1) = 3 and coord(2) = 5) or (coord(1) = 5 and coord(2) = 5) or (coord(1) = 6 and coord(2) = 5)
        or (coord(1) = 2 and coord(2) = 6) or (coord(1) = 3 and coord(2) = 6) or (coord(1) = 5 and coord(2) = 6) or (coord(1) = 6 and coord(2) = 6)); 
    blue_lair := (coord(1) = 4 and coord(2) = 1);
    red_lair := (coord(1) = 4 and coord(2) = 9);
    return self;
  );
  
  --Tile constructor with piece
  public Tile: seq of nat1 * Piece ==> Tile
    Tile(coord, p) == (
    coordinates := coord;
    traps := ((coord(1) = 3 and coord(2) = 1) or (coord(1) = 5 and coord(2) = 1) or (coord(1) = 4 and coord(2) = 2)
          or (coord(1) = 3 and coord(2) = 9) or (coord(1) = 5 and coord(2) = 9) or (coord(1) = 4 and coord(2) = 8));
    river := ((coord(1) = 2 and coord(2) = 4) or (coord(1) = 3 and coord(2) = 4) or (coord(1) = 5 and coord(2) = 4) or (coord(1) = 6 and coord(2) = 4)
        or (coord(1) = 2 and coord(2) = 5) or (coord(1) = 3 and coord(2) = 5) or (coord(1) = 5 and coord(2) = 5) or (coord(1) = 6 and coord(2) = 5)
        or (coord(1) = 2 and coord(2) = 6) or (coord(1) = 3 and coord(2) = 6) or (coord(1) = 5 and coord(2) = 6) or (coord(1) = 6 and coord(2) = 6));
    blue_lair := (coord(1) = 4 and coord(2) = 1);
    red_lair := (coord(1) = 4 and coord(2) = 9); 
    piece := p;
    return self
  );
  
  --returns the coordinates of that tile
(*@
\label{getCoordinates:49}
@*)
  pure public getCoordinates: () ==> seq of nat1
  getCoordinates() == return coordinates;
  
  --returns the piece in that tile
(*@
\label{getPiece:53}
@*)
  pure public getPiece: () ==> [Piece]
  getPiece() == return piece;
  
  --returns whether on that tile lies a trap or not
(*@
\label{isTrap:57}
@*)
  pure public isTrap: () ==> bool
  isTrap() == return traps;
  
  --returns whether that trap is a river or not
(*@
\label{isRiver:61}
@*)
  pure public isRiver: () ==> bool
  isRiver() == return river;
  
  --method to set the piece that lies on the tile
(*@
\label{setPiece:65}
@*)
  public setPiece: [Piece] ==> ()
  setPiece(p) == piece := p;
  
end Tile
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[Tile:19]{Tile} & 19&100.0\% & 85 \\
\hline
\hyperref[getCoordinates:49]{getCoordinates} & 49&100.0\% & 494 \\
\hline
\hyperref[getPiece:53]{getPiece} & 53&100.0\% & 277 \\
\hline
\hyperref[isRiver:61]{isRiver} & 61&100.0\% & 75 \\
\hline
\hyperref[isTrap:57]{isTrap} & 57&100.0\% & 8 \\
\hline
\hyperref[setPiece:65]{setPiece} & 65&100.0\% & 36 \\
\hline
\hline
Tile.vdmpp & & 100.0\% & 975 \\
\hline
\end{longtable}

